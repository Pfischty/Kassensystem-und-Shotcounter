html_template = """
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Kassensystem</title>
  <style>
    /* --- globale Farben / Größen --------------------------------------- */
    :root{
      --bg:#121212; --fg:#e0e0e0; --card:#333; --border:#444;
      --btn-radius:1rem;
      --btn-padding:clamp(0.8rem,3.5vw,2rem);
      --btn-font:clamp(1.4rem,5vw,2.6rem);
    }

    html,body{
      margin:0;height:100%;width:100%;
      font-family:Arial,Helvetica,sans-serif;
      font-size:18px;background:var(--bg);color:var(--fg);
      -webkit-touch-callout:none;-webkit-user-select:none;user-select:none;
      touch-action:manipulation;overscroll-behavior:contain;
    }
    .wrapper{display:flex;flex-direction:column;height:100vh;}

    /* --- Top‑Bereich ---------------------------------------------------- */
    .top-section{
      flex:0 0 25%;border-bottom:2px solid var(--border);
      padding:1rem 1.3rem;display:flex;flex-direction:column;gap:.6rem;
      overflow-y:auto;scrollbar-width:none;
    }
    .top-bar{display:flex;align-items:center;gap:1rem;flex-wrap:wrap;}
    .top-bar h1{margin:0;font-size:clamp(1.7rem,4.2vw,2.5rem);flex:1 0 auto;}
    #total{
      font-weight:bold;font-size:clamp(1.5rem,4vw,2.4rem);
      background:var(--card);border:2px solid var(--border);
      border-radius:.6rem;padding:.55rem 1.4rem;
    }
    .top-action{                        /* großer Neuer‑Kunde‑Button */
      background:#ff5722;color:#fff;text-decoration:none;font-weight:bold;
      border-radius:.6rem;
      padding:.8rem 1.8rem;
      font-size:clamp(1.3rem,4.2vw,1.9rem);
      box-shadow:0 3px 6px rgba(0,0,0,.4);
    }
    .top-action:active{transform:scale(.96);}

    .bestellung-container ul{
      padding-left:0;margin:.4rem 0 0;
      font-size:clamp(1rem,3.6vw,1.5rem);
      column-count:2;column-gap:.5rem;
      list-style:none;
    }

    /* --- Buttons‑Grid --------------------------------------------------- */
    .bottom-section{flex:1;padding:1rem 1.3rem;overflow-y:auto;}
    .buttons-container{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr)); /* 2 Spalten */
      grid-auto-rows:1fr;                             /* 4 Zeilen */
      gap:1rem;
    }
    .item-button{
      display:flex;justify-content:center;align-items:center;
      text-decoration:none;color:#fff;text-align:center;font-weight:bold;
      border-radius:var(--btn-radius);font-size:var(--btn-font);
      padding:var(--btn-padding);min-height:90px;
      box-shadow:0 2px 4px rgba(0,0,0,.3);
      white-space:normal;line-height:1.25;word-break:break-word;
      transition:transform .1s ease;
    }
    .item-button:active{transform:scale(.96);}
    .item-button.suess  {background:#1e88e5;}
    .item-button.bier   {background:#ffd900;color:#222;}
    .item-button.wein   {background:#6a1b9a;}
    .item-button.flasche{background:#5b7c00;}
    .item-button.gross  {background:#ff4cc3;}
    .item-button.depot  {background:#576268;}
    .item-button.clear  {background:#e53935;}
    .item-button.Weinglassdepot  {background:#fa8d45;}
  </style>
</head>
<body>
  <div class="wrapper">
    <!-- Top -->
    <div class="top-section">
      <div class="top-bar">
        <div id="total">Total: {{ total }} CHF</div>
        <a class="top-action" href="{{ url_for('clear_order') }}">Neuer&nbsp;Kunde</a>
      </div>
      <div class="bestellung-container">
        <h3 style="margin:0;font-size:1rem;">Bestellliste</h3>
        {% if items %}
          <ul>
          {% for item, count in items %}
            <li>{{ count }}× {{ item }}</li>
          {% endfor %}
          </ul>
        {% else %}
          <p style="margin:.2rem 0;">(Noch keine Artikel)</p>
        {% endif %}
      </div>
    </div>

    <!-- Buttons -->
    <div class="bottom-section">
      <div class="buttons-container">
        <a class="item-button suess"   href="{{ url_for('add_item', name='Süssgetränke') }}">Süssgetränke</a>
        <a class="item-button bier"    href="{{ url_for('add_item', name='Bier') }}">Bier / Mate / Red Bull / Smirnoff</a>
        <a class="item-button wein"    href="{{ url_for('add_item', name='Wein') }}">Wein</a>
        <a class="item-button flasche" href="{{ url_for('add_item', name='Weinflasche 0.7') }}">Weinflasche</a>
        <a class="item-button gross"   href="{{ url_for('add_item', name='Drink 10') }}">Drink 10</a>
        <a class="item-button depot"   href="{{ url_for('add_item', name='Depot rein') }}">Depot rein</a>
        <a class="item-button depot"   href="{{ url_for('add_item', name='Weinglassdepot') }}">Weinglas Depot</a>
        <a class="item-button clear"   href="{{ url_for('remove_last') }}">1 zurück</a>
      </div>
    </div>
  </div>
</body>
</html>
"""