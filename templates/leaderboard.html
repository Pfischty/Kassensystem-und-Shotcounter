<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Rangliste</title>
    <!-- CSS-Datei laden -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <!-- Socket.io (ohne integrity-Attribut) -->
    <script src="https://cdn.socket.io/4.6.1/socket.io.min.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- Canvas für den animierten Hintergrund -->
    <canvas id="backgroundCanvas"></canvas>
    <!-- Logo-Bereich -->
    <div class="logo-area">
        <!-- Pfad zum Logo muss angepasst werden -->
        <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo">
    </div>
    
    <!-- Titel -->
    <h1>Winterfäscht Beachparty Shotcounter</h1>

    <!-- Tabelle -->
    <table>
        <thead>
            <tr>
                <th>Rang</th>
                <th>Team</th>
                <th>Shots</th>
            </tr>
        </thead>
        <tbody>
            {% for team in teams %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ team.team }}</td>
                <td>{{ team.score }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Socket.io Script -->
    <script>
        // Verbindung zum Server herstellen (z. B. Flask-SocketIO)
        var socket = io.connect('http://' + document.domain + ':' + location.port);

        // Wenn das 'update_leaderboard'-Event ankommt, Seite neu laden
        socket.on('update_leaderboard', function() {
            console.log('Leaderboard wird aktualisiert');
            location.reload(); 
        });
    </script>
    

    <!-- JavaScript für die Hintergrundanimation -->
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
